<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>42Vienna Web Server - Test</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <header id="header"></header>

    <section class="hero">
        <h1>42Vienna Web Server Feature Testing</h1>
        <p>Welcome to the test page. Use this to test the capabilities of the web server you've implemented.</p>
    </section>

    <!-- GET Features -->
    <section id="get-tests" class="features-section">
        <h2>GET Features</h2>
        <p>Test the basic GET functionalities of your web server:</p></br>
        <div class="grid">
            <div class="grid-item grid-description">
                Basic GET request handling
            </div>
            <div class="grid-item grid-button">
                <a href="/features/get_basic.html" class="cta-button">Test Basic GET</a>
            </div>

            <div class="grid-item grid-description">
                Handling different MIME types (e.g., HTML, CSS, PNG, etc.)
            </div>
            <div class="grid-item grid-button">
                <a href="/features/get_mime.html" class="cta-button">Test MIME Types</a>
            </div>

            <div class="grid-item grid-description">
                Autoindex generation for directories
            </div>
            <div class="grid-item grid-button">
                <a href="/features/mime/" class="cta-button">Test Autoindex</a>
            </div>
        </div>
    </section>

    <!-- POST Features -->
    <section id="post-tests" class="features-section">
        <h2>POST Features</h2>
        <p>Test the POST-related functionalities:</p></br>
        <div class="grid">
            <div class="grid-item grid-description">
                File upload handling
            </div>
            <div class="grid-item grid-button">
                <a href="/features/upload.html" class="cta-button">Upload File</a>
            </div>

            <div class="grid-item grid-description">
                Check upload results
            </div>
            <div class="grid-item grid-button">
                <a href="/upload" class="cta-button">Check</a>
            </div>

        </div>
    </section>

    <!-- DELETE Features -->
    <section id="delete-tests" class="features-section">
        <h2>DELETE Features</h2>
        <p>Test the DELETE functionality</p></br>
        <div class="grid">
            <div class="grid-item grid-description">
                Delete files in the upload directory
            </div>
            <div class="grid-item grid-button">
                <a href="/features/delete.html" class="cta-button">Delete file</a>
            </div>
        </div>
    </section>

    <!-- CGI Features -->
    <section id="cgi-tests" class="features-section">
        <h2>CGI Features</h2>
        <p>Test the CGI functionality</p></br>
        <div class="grid">
            <div class="grid-item grid-description">
                CGI GET request demo - hello_world.sh
            </div>
            <div class="grid-item grid-button">
                <a href="/cgi/hello_world.sh" class="cta-button">Run</a>
            </div>
            <div class="grid-item grid-description">
                CGI GET request demo - default.py
            </div>
            <div class="grid-item grid-button">
                <a href="/cgi/default.py" class="cta-button">Run</a>
            </div>
            <div class="grid-item grid-description">
                CGI GET request demo - loop.sh
            </div>
            <div class="grid-item grid-button">
                <a href="/cgi/loop.sh" class="cta-button">Run</a>
            </div>
            <div class="grid-item grid-description">
                CGI POST request demo - see_post_content.sh
            </div>
            <div class="grid-item grid-button">
                <a href="#" onclick="document.getElementById('post-form-container').style.display='block'; return false;" class="cta-button">Test POST</a>
            </div>

            <!-- POST features -->
            <div id="post-form-container" style="display:none; margin-top: 20px; grid-column: span 2; background-color: #f5f5f5; padding: 20px; border-radius: 8px;">
                <h3>Test POST Request to see_post_content.sh</h3>
                <form action="/cgi/see_post_content.sh" method="POST">
                    <div style="margin-bottom: 15px;">
                        <label for="post-content" style="display: block; margin-bottom: 5px; font-weight: bold;">Enter content to send:</label>
                        <textarea id="post-content" name="post-content" rows="5" style="width: 100%; padding: 10px; border-radius: 4px; border: 1px solid #ddd;"></textarea>
                    </div>
                    <button type="submit" class="cta-button">Submit POST Request</button>
                    <button type="button" class="cta-button" style="background-color: #999;" onclick="document.getElementById('post-form-container').style.display='none';">Cancel</button>
                </form>
            </div>
        </div>
    </section>

    <!-- h1spec Testing Framework -->
    <section id="h1spec" class="features-section">
        <h2>h1spec Testing Framework</h2>
        <p>
            The <strong>h1spec testing framework</strong> is used to ensure the web server adheres to the HTTP/1.1 RFC protocols. </br>
            It compares the results against Google and Nginx to validate precision and robustness.
        </p>
        <div class="grid">
            <div class="grid-item grid-description">
                Run compliance tests with h1spec
            </div>
            <div class="grid-item grid-button">
                <a href="https://github.com/LeaYeh/h1spec/" class="cta-button" disabled="true">TBD</a>
            </div>
        </div>
    </section>

    <footer id="footer"></footer>
    <script>
        async function loadComponents() {
            const headerContent = await fetch('header.html').then(res => res.text());
            document.getElementById('header').innerHTML = headerContent;

            const footerContent = await fetch('footer.html').then(res => res.text());
            document.getElementById('footer').innerHTML = footerContent;
        }
        loadComponents().catch(err => console.error(err));
    </script>
</body>
</html>
